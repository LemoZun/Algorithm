# 게임 알고리즘

## 공간 분할(Space Division)
공간 분할은 지형을 일정 크기로 나누어 카메라 시야 내에 들어오지 않는 오브젝트와 지형을 제외시키기 위해 사용한다. 이를 사용하면 모든 오브젝트를 렌더링 하는 것 보다 효율적으로 게임을 구현 할 수 있다.   
3D 데이터를 표현하기 위한 자료구조는 장면 그래프(Scene Graph)라고 부르며, 여기에는 트리 구조를 사용하고 노드가 공간을 가지고 있는 이진트리, 쿼드트리(QuadTree), 옥트리(Octree) 등을 사용한다.

### 쿼드 트리
공간을 재귀적인 호출을 사용해 4개의 자식 노드로 분할하는 방법이며 일반적으로 공중에 떠 있는 개념이 없는 지형(Terrain)에 사용된다.

![QuadTree1](algorithm_quadtree1.png)

2차원 공간을 4개의 동일한 공간으로 재귀적으로 세분화 해 분할하는 방법이다.   

![QuadTree2](algorithm_quadtree_2.png)

지형의 크기가 매우 클 경우 사용하기 좋으며 카메라 시야에 잡히지 않는 큰 사분면들을 컬링하고 컬링되지 않은 사분면의 자식노드들을 사분할하여 이를 다시 수행해 반복한다.

#### 쿼드 트리 예시
[백준 1992번 문제](https://www.acmicpc.net/problem/1992)

![QuadTree3](algorithm_quadtree_3.png)

맵이 모두 흰색(0)이거나 모두 검은색(1)이 아니므로 이를 4등분한다. 그 뒤 그림을 보면 2사분면은 모두 흰색이니 하나의 0으로 표현하고 4사분면은 모두 검은색이니 하나의 1로 표현한다.
그 후 남은 1사분면과 3사분면에 대해 다시 4등분하여 이를 반복한다.

```
쿼드 트리 클래스

    맵 행렬 선언

    받은 맵을 4분할 하는 함수

        행렬의 모든 요소가 동일한지 확인 함수
         비교값 = 행렬의 첫 요소
         (반복문)행렬을 순회하며 모든 값 비교
        (조건문) 모든 행렬의 요소가 같다면 true, 아니라면 false
            위 함수가 true 일때 그 행렬의 첫 요소를 반환하는 함수
            위 함수가 false 일때 
                받은 맵을 4분할 하는 함수
```
